<!doctype html>
<html>

<head>
  <title>tkconv</title>
  <meta charset="utf-8">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; connect-src 'self'; img-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'none';" />
  <link rel='stylesheet' href='style.css'>
  <!-- opengraph -->
  <script defer src="logic.js"></script>
  <script defer src="alpine.min.js"></script>
</head>

<body>
  
  <div id="recent-docs" x-data="{
				foundDocs: [],
				twomonths: false,
				searchQuery: '',
				message: ''
				}" x-init="init($data);">
    <p></p>
    <center>
    <form @submit.prevent="getSearchResults($data);">
      <input name="q" size="80" placeholder="zoektekst" type="text" x-model="searchQuery" autofocus >
      <label><input name="twomonths" id="twomonths" type="checkbox" value="on" x-model="twomonths" @change="getSearchResults($data);">2 maanden</label>
      <p></p>
      <small>Zoeken op <strong>Joe Biden</strong> vindt alle documenten met ergens <i>Joe</i> en ergens <i>Biden</i>. Zoeken op <strong>"Joe Biden"</strong> vindt alleen die twee woorden naast elkaar. Zoeken op <strong>Hubert NOT Bruls</strong> vindt documenten met daarin Hubert maar niet Bruls. De hoofdletters in NOT zijn belangrijk.</small>
    </form>
    </center>
    <p></p>
    <table>
      <tr>
        <th>Datum</th>
	<th>Bijgewerkt</th>
	<th>Nummer</th>
        <th>Onderwerp</th>
        <th>Snip</th>
      </tr>
      <template x-for="d in foundDocs">
        <tr>
          <td x-text="d.datum.substring(0,10)"></td>
	  <td x-text="d.bijgewerkt.substring(0,16).replace('T', '&nbsp;')"></td>
	  <td><a x-text="d.nummer" x-bind:href="'get/'+d.nummer"></a></td>
	  <td x-text="d.onderwerp"></td>
	  <td x-html="d.snip"></td>
        </tr>
      </template>
    </table>
    <p></p>
    <center><small>
	<span x-text="message"></span>
    </small></center>
  </div>
</body>
